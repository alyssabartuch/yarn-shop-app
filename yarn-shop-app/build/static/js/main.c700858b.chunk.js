(this.webpackJsonpcotd=this.webpackJsonpcotd||[]).push([[0],{33:function(e,t,a){e.exports=a(67)},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),i=a(72),s=a(73),l=a(74),c=a(6),m=a(7),u=a(9),d=a(8),p=a(10);function h(e){return(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})}function f(e){return e[Math.floor(Math.random()*e.length)]}function b(){var e=["adorable","beautiful","clean","drab","elegant","fancy","glamorous","handsome","long","magnificent","old-fashioned","plain","quaint","sparkling","ugliest","unsightly","angry","bewildered","clumsy","defeated","embarrassed","fierce","grumpy","helpless","itchy","jealous","lazy","mysterious","nervous","obnoxious","panicky","repulsive","scary","thoughtless","uptight","worried"];return"".concat(f(e),"-").concat(f(e),"-").concat(f(["women","men","children","teeth","feet","people","leaves","mice","geese","halves","knives","wives","lives","elves","loaves","potatoes","tomatoes","cacti","foci","fungi","nuclei","syllabuses","analyses","diagnoses","oases","theses","crises","phenomena","criteria","data"]))}var y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).myInput=r.a.createRef(),a.goToStore=function(e){e.preventDefault();var t=a.myInput.current.value;a.props.history.push("/store/".concat(t))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"store-selector",onSubmit:this.goToStore},r.a.createElement("h2",null,"Please Enter A Store"),r.a.createElement("input",{type:"text",ref:this.myInput,required:!0,placeholder:"Store Name",defaultValue:b()}),r.a.createElement("button",{type:"submit"},"Visit Store"))}}]),t}(r.a.Component),g=a(13),v=function(e){return r.a.createElement("header",{className:"store"},r.a.createElement("h1",{id:"yarn"},"Yarn"),r.a.createElement("img",{src:"../images/yarn-logo.png",alt:"yarn-logo",id:"yarn-logo"}),r.a.createElement("h1",{id:"shop"},"Shop"),r.a.createElement("h3",{className:"tagline"},r.a.createElement("span",null,e.tagline)))},w=a(14),E=a.n(w),k=a(21),O=a(15),j=a.n(O),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).nameRef=r.a.createRef(),a.priceRef=r.a.createRef(),a.statusRef=r.a.createRef(),a.descRef=r.a.createRef(),a.imageRef=r.a.createRef(),a.createItem=function(e){e.preventDefault();var t={name:a.nameRef.current.value,price:parseFloat(a.priceRef.current.value),status:a.statusRef.current.value,desc:a.descRef.current.value,image:a.imageRef.current.value};a.props.addItem(t),e.currentTarget.reset()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"item-edit",onSubmit:this.createItem},r.a.createElement("input",{name:"name",ref:this.nameRef,type:"text",placeholder:"Name"}),r.a.createElement("input",{name:"price",ref:this.priceRef,type:"text",placeholder:"Price"}),r.a.createElement("select",{name:"status",ref:this.statusRef},r.a.createElement("option",{value:"available"},"Fresh!"),r.a.createElement("option",{value:"unavailable"},"Sold Out!")),r.a.createElement("textarea",{name:"desc",ref:this.descRef,placeholder:"Desc"}),r.a.createElement("input",{name:"image",ref:this.imageRef,type:"text",placeholder:"Image"}),r.a.createElement("button",{type:"submit"},"+ Add Item"))}}]),t}(r.a.Component),S=a(22),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=Object(g.a)({},a.props.item,Object(S.a)({},e.currentTarget.name,e.currentTarget.value));a.props.updateItem(a.props.index,t)},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"item-edit"},r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,value:this.props.item.name}),r.a.createElement("input",{type:"text",name:"price",onChange:this.handleChange,value:this.props.item.price}),r.a.createElement("select",{type:"text",name:"status",onChange:this.handleChange,value:this.props.item.status},r.a.createElement("option",{value:"available"},"Availavle!"),r.a.createElement("option",{value:"unavailable"},"Sold Out!")),r.a.createElement("textarea",{type:"text",name:"desc",onChange:this.handleChange,value:this.props.item.desc}),r.a.createElement("input",{type:"text",name:"image",onChange:this.handleChange,value:this.props.item.image}),r.a.createElement("button",{onClick:function(){return e.props.deleteItem(e.props.index)}},"Remove Item"))}}]),t}(r.a.Component),x=function(e){return r.a.createElement("nav",{className:"login"},r.a.createElement("h2",null,"Inventory Login"),r.a.createElement("p",null,"Sign in to manage your store's inventory"),r.a.createElement("button",{className:"github",onClick:function(){return e.authenticate("Github")}},"Login with GitHub"),r.a.createElement("button",{className:"twitter",onClick:function(){return e.authenticate("Google")}},"Login with Google"),r.a.createElement("button",{className:"facebook",onClick:function(){return e.authenticate("Facebook")}},"Login with Facebook"))},C=a(31),R=a.n(C),A=j.a.initializeApp({apiKey:"AIzaSyBGhtC4H21i1cIWmntRp4KFJfX2u-g5CdU",authDomain:"yarn-shop-app.firebaseapp.com",databaseURL:"https://yarn-shop-app.firebaseio.com"}),T=R.a.createClass(A.database()),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={uid:null,owner:null},a.authHandler=function(e){var t,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E.a.awrap(T.fetch(a.props.storeId,{context:Object(k.a)(a)}));case 2:if((t=r.sent).owner){r.next=9;break}return n=new Date,r.next=7,E.a.awrap(T.post("".concat(a.props.storeId,"/owner"),{data:e.user.uid}));case 7:return r.next=9,E.a.awrap(T.post("".concat(a.props.storeId,"/dateCreated"),{data:n.toString()}));case 9:a.setState({uid:e.user.uid,owner:t.owner||e.user.uid});case 10:case"end":return r.stop()}}))},a.authenticate=function(e){var t=new(j.a.auth["".concat(e,"AuthProvider")]);A.auth().signInWithPopup(t).then(a.authHandler)},a.logout=function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.awrap(j.a.auth().signOut());case 2:a.setState({uid:null});case 3:case"end":return e.stop()}}))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.a.auth().onAuthStateChanged((function(t){t&&e.authHandler({user:t})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("button",{onClick:this.logout},"Logout");return this.state.uid?this.state.uid!==this.state.owner?r.a.createElement("div",{id:"admin-panel-container",className:this.props.visible?"slideIn":"slideOut"},r.a.createElement("button",{type:"button",id:"admin-panel-btn",className:this.props.visible?"open":"closed",onClick:this.props.openAdminPanel},"Admin Pannel"),r.a.createElement("div",{id:"admin-panel"},r.a.createElement("div",{className:"inventory"},r.a.createElement("h2",null,"Inventory Login"),r.a.createElement("p",null,"Sorry you are not the owner of this store."),t))):r.a.createElement("div",{id:"admin-panel-container",className:this.props.visible?"slideIn":"slideOut"},r.a.createElement("button",{type:"button",id:"admin-panel-btn",className:this.props.visible?"open":"closed",onClick:this.props.openAdminPanel},"Admin Pannel"),r.a.createElement("div",{id:"admin-panel"},r.a.createElement("div",{className:"inventory"},r.a.createElement("h2",{id:"inventory-header-title"},"Inventory"),r.a.createElement("div",{className:"logout-btn"},t),Object.keys(this.props.items).map((function(t){return r.a.createElement(N,{key:t,index:t,item:e.props.items[t],updateItem:e.props.updateItem,deleteItem:e.props.deleteItem})})),r.a.createElement(I,{addItem:this.props.addItem}),r.a.createElement("button",{onClick:this.props.loadSampleItems},"Load Sample Items")))):r.a.createElement("div",{id:"admin-panel-container",className:this.props.visible?"slideIn":"slideOut"},r.a.createElement("button",{type:"button",id:"admin-panel-btn",className:this.props.visible?"open":"closed",onClick:this.props.openAdminPanel},"Admin Pannel"),r.a.createElement("div",{id:"admin-panel"},r.a.createElement("div",{className:"inventory"},r.a.createElement(x,{authenticate:this.authenticate}))))}}]),t}(r.a.Component),D=a(16),F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderOrder=function(e){var t=a.props.items[e],n=a.props.order[e],o=t&&"available"===t.status,i={classNames:"order",key:e,timeout:{enter:500,exit:500}};return t?o?r.a.createElement(D.CSSTransition,i,r.a.createElement("li",{key:e},r.a.createElement("span",null,r.a.createElement(D.TransitionGroup,{component:"span",className:"count"},r.a.createElement(D.CSSTransition,{classNames:"count",key:n,timeout:{enter:500,exit:500}},r.a.createElement("span",null,n))),t.name," ",h(n*t.price),r.a.createElement("button",{id:"remove-order-item-btn",onClick:function(){return a.props.removeFromOrder(e)}},"\xd7")))):r.a.createElement(D.CSSTransition,i,r.a.createElement("li",{key:e},"Sorry ",t?t.name:"item"," is no longer available")):null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.order),a=t.reduce((function(t,a){var n=e.props.items[a],r=e.props.order[a];return n&&"available"===n.status?t+r*n.price:t}),0);return r.a.createElement("div",{className:"order-wrap"},r.a.createElement("h2",{id:"order-header-title"},"Order"),r.a.createElement(D.TransitionGroup,{component:"ul",className:"order"},t.map(this.renderOrder)),r.a.createElement("div",{className:"total"},"Total:",r.a.createElement("strong",null,h(a))))}}]),t}(r.a.Component),L={item1:{name:"Blue Green Yarn",image:"/images/blue-green-yarn.jpg",desc:"Reward the chosen human with a slow blink run outside as soon as door open. Sit on the laptop this cat happen now, it was too purr-fect!!!, rub my belly hiss. Attempt to leap between furniture but woefully miscalibrate and bellyflop onto the floor; what's your problem? i meant to do that now i shall wash myself intently attack the dog then pretend like nothing happened or thug cat or purr so i'm going to lap some water out of my master's cup meow.",price:1724,status:"available"},item2:{name:"Brown Yarn",image:"/images/brown-yarn.jpg",desc:"While happily ignoring when being called love blinks and purr purr purr purr yawn cats making all the muffins but rub face on owner. Slap kitten brother with paw catty ipsum go into a room to decide you didn't want to be in there anyway. Destroy the blinds. Eat prawns daintily with a claw then lick paws clean wash down prawns with a lap of carnation milk then retire to the warmest spot on the couch to claw at the fabric before taking a catnap eat the fat cats food yet stares at human while pushing stuff off a table but scratch leg; meow for can opener to feed me and howl on top of tall thing but purr but ask for petting.",price:3200,status:"available"},item3:{name:"Green Yarn",image:"/images/green-yarn.jpg",desc:"Spend all night ensuring people don't sleep sleep all day purr like an angel and have my breakfast spaghetti yarn. Sit in window and stare oooh, a bird, yum dream about hunting birds so prance along on top of the garden fence, annoy the neighbor's dog and make it bark. Pet my belly, you know you want to; seize the hand and shred it! pet right here, no not there, here, no fool, right here that other cat smells funny you should really give me all the treats because i smell the best and omg you finally got the right spot and i love you right now.",price:1684,status:"unavailable"},item4:{name:"Lilac Yarn",image:"/images/lilac-yarn.jpg",desc:"Groom forever, stretch tongue and leave it slightly out, blep experiences short bursts of poo-phoria after going to the loo. Hide head under blanket so no one can see bird bird bird bird bird bird human why take bird out i could have eaten that rub face on owner or chew master's slippers and terrorize the hundred-and-twenty-pound rottweiler and steal his bed, not sorry pet me pet me pet me pet me, bite, scratch, why are you petting me. Brown cats with pink ears. Sleeps on my head love you, then bite you so where is my slave?",price:1129,status:"available"},item5:{name:"Purple Red Yarn",image:"/images/purple-red-yarn.jpg",desc:"I'm getting hungry. Sit on human they not getting up ever making bread on the bathrobe flee in terror at cucumber discovered on floor for good morning sunshine but kitty power, eat from dog's food. Why use post when this sofa is here litter box is life hunt by meowing loudly at 5am next to human slave food dispenser lick left leg for ninety minutes, still dirty this is the day i'm bored inside, let me out i'm lonely outside, let me in i can't make up my mind whether to go in or out, guess i'll just stand partway in and partway out, contemplating the universe for half an hour how dare you nudge me with your foot?!?! leap into the air in greatest offense!.",price:4234,status:"available"},item6:{name:"Purple Yarn",image:"/images/purple-yarn.jpg",desc:"Poop in litter box, scratch the walls. Knock dish off table head butt cant eat out of my own dish paw your face to wake you up in the morning weigh eight pounds but take up a full-size bed, for crusty butthole for find something else more interesting, but destroy the blinds demand to be let outside at once, and expect owner to wait for me as i think about it. Stare at the wall, play with food and get confused by dust kitty ipsum dolor sit amet, shed everywhere shed everywhere stretching attack your ankles chase the red dot, hairball run catnip eat the grass sniff. Pet me pet me pet me pet me, bite, scratch, why are you petting me where is my slave?",price:1453,status:"available"},item7:{name:"Rainbow Yarn",image:"/images/rainbow-yarn.jpg",desc:"I'm getting hungry so stare at owner accusingly then wink. There's a forty year old lady there let us feast. Destroy couch as revenge nya nya nyan show belly. I will be pet i will be pet and then i will hiss this is the day . Run as fast as i can into another room for no reason. Mesmerizing birds roll over and sun my belly shove bum in owner's face like camera lens and sit in box and chew foot i cry and cry and cry unless you pet me, and then maybe i cry just for fun.",price:2543,status:"available"},item8:{name:"Red Yarn",image:"/images/red-yarn.jpg",desc:"Open the door, let me out, let me out, let me-out, let me-aow, let meaow, meaow! x but i vomit in the bed in the middle of the night yet poop in the plant pot. Cough furball into food bowl then scratch owner for a new one nyan fluffness ahh cucumber!. Experiences short bursts of poo-phoria after going to the loo thug cat but freak human out make funny noise mow mow mow mow mow mow success now attack human.",price:425,status:"available"},item9:{name:"Teal Yarn",image:"/images/teal-yarn.jpg",desc:"Sun bathe poop in the plant pot but missing until dinner time. I love cuddles cereal boxes make for five star accommodation leave fur on owners clothes, for cat sit like bread. Instead of drinking water from the cat bowl, make sure to steal water from the toilet refuse to come home when humans are going to bed; stay out all night then yowl like i am dying at 4am and sit and stare so i like fish.",price:2250,status:"available"}},G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.addToOrder(a.props.index)},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.details,t=e.image,a=e.name,n=e.price,o=e.desc,i="available"===e.status;return r.a.createElement("li",{className:"store-item"},r.a.createElement("div",{className:"item-header"},r.a.createElement("div",{className:"item-name"},a),r.a.createElement("div",{className:"price"},r.a.createElement("span",null,h(n)))),r.a.createElement("div",{className:"item-info"},r.a.createElement("div",{className:"item-desc"},r.a.createElement("p",null,o),r.a.createElement("button",{className:"add-to-order-btn",disabled:!i,onClick:this.handleClick},i?"Add To Order":"Sold Out!")),r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{className:"item-photo",src:t,alt:a}))))}}]),t}(r.a.Component),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={items:{},order:{},visible:!1},a.addItem=function(e){var t=Object(g.a)({},a.state.items);t["item".concat(Date.now())]=e,a.setState({items:t})},a.updateItem=function(e,t){var n=Object(g.a)({},a.state.items);n[e]=t,a.setState({items:n})},a.deleteItem=function(e){var t=Object(g.a)({},a.state.items);t[e]=null,a.setState({items:t})},a.loadSampleItems=function(){a.setState({items:L})},a.addToOrder=function(e){var t=Object(g.a)({},a.state.order);t[e]=t[e]+1||1,a.setState({order:t})},a.removeFromOrder=function(e){var t=Object(g.a)({},a.state.order);delete t[e],a.setState({order:t})},a.openAdminPanel=function(){a.setState((function(e){return{visible:!e.visible}}))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=localStorage.getItem(e.storeId);t&&this.setState({order:JSON.parse(t)}),this.ref=T.syncState("".concat(e.storeId,"/items"),{context:this,state:"items"})}},{key:"componentDidUpdate",value:function(){localStorage.setItem(this.props.match.params.storeId,JSON.stringify(this.state.order))}},{key:"componentWillUnmount",value:function(){T.removeBinding(this.ref)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"yarn-shop"},r.a.createElement("div",{className:"menu"},r.a.createElement(v,{tagline:"- - - Love in Every Twist - - -"}),r.a.createElement("ul",{className:"items"},Object.keys(this.state.items).map((function(t){return r.a.createElement(G,{key:t,index:t,details:e.state.items[t],addToOrder:e.addToOrder})})))),r.a.createElement(F,{items:this.state.items,order:this.state.order,removeFromOrder:this.removeFromOrder}),r.a.createElement(P,{visible:this.state.visible,openAdminPanel:this.openAdminPanel,addItem:this.addItem,updateItem:this.updateItem,deleteItem:this.deleteItem,loadSampleItems:this.loadSampleItems,items:this.state.items,storeId:this.props.match.params.storeId})))}}]),t}(r.a.Component);Y.transitionOptions={classNames:"item-edit",timeout:{enter:500,exit:500}};var z=Y,H=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Not Found"))},U=function(){return r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(l.a,{exact:!0,path:"/",component:y}),r.a.createElement(l.a,{exact:!0,path:"/store/:storeId",component:z}),r.a.createElement(l.a,{exact:!0,component:H})))};a(66);Object(o.render)(r.a.createElement(U,null),document.querySelector("#main"))}},[[33,1,2]]]);
//# sourceMappingURL=main.c700858b.chunk.js.map