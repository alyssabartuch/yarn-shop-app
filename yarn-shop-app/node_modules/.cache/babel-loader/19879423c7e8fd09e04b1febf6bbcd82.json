{"ast":null,"code":"import _classCallCheck from\"/Users/alyssabartuch/Development/yarn-shop/yarn-shop-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alyssabartuch/Development/yarn-shop/yarn-shop-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/alyssabartuch/Development/yarn-shop/yarn-shop-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/alyssabartuch/Development/yarn-shop/yarn-shop-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/alyssabartuch/Development/yarn-shop/yarn-shop-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{formatPrice}from'../helpers';import{TransitionGroup,CSSTransition}from'react-transition-group';var Order=/*#__PURE__*/function(_React$Component){_inherits(Order,_React$Component);function Order(){var _getPrototypeOf2;var _this;_classCallCheck(this,Order);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Order)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.renderOrder=function(key){var item=_this.props.items[key];var count=_this.props.order[key];var isAvailable=item&&item.status==='available';var transitionOptions={classNames:\"order\",key:key,timeout:{enter:500,exit:500}};// making sure item is loading before continuing \nif(!item)return null;if(!isAvailable){return React.createElement(CSSTransition,transitionOptions,React.createElement(\"li\",{key:key},\"Sorry \",item?item.name:'item',\" is no longer available\"));}return React.createElement(CSSTransition,transitionOptions,React.createElement(\"li\",{key:key},React.createElement(\"span\",null,React.createElement(TransitionGroup,{component:\"span\",className:\"count\"},React.createElement(CSSTransition,{classNames:\"count\",key:count,timeout:{enter:500,exit:500}},React.createElement(\"span\",null,count))),item.name,\" \",formatPrice(count*item.price),React.createElement(\"button\",{id:\"remove-order-item-btn\",onClick:function onClick(){return _this.props.removeFromOrder(key);}},\"\\xD7\"))));};return _this;}_createClass(Order,[{key:\"render\",value:function render(){var _this2=this;var orderIds=Object.keys(this.props.order);var total=orderIds.reduce(function(prevTotal,key){var item=_this2.props.items[key];var count=_this2.props.order[key];var isAvailable=item&&item.status==='available';if(isAvailable){return prevTotal+count*item.price;}return prevTotal;},0);return React.createElement(\"div\",{className:\"order-wrap\"},React.createElement(\"h2\",{id:\"order-header-title\"},\"Order\"),React.createElement(TransitionGroup,{component:\"ul\",className:\"order\"},orderIds.map(this.renderOrder)),React.createElement(\"div\",{className:\"total\"},\"Total:\",React.createElement(\"strong\",null,formatPrice(total))));}}]);return Order;}(React.Component);export default Order;","map":{"version":3,"sources":["/Users/alyssabartuch/Development/yarn-shop/yarn-shop-app/src/components/Order.js"],"names":["React","formatPrice","TransitionGroup","CSSTransition","Order","renderOrder","key","item","props","items","count","order","isAvailable","status","transitionOptions","classNames","timeout","enter","exit","name","price","removeFromOrder","orderIds","Object","keys","total","reduce","prevTotal","map","Component"],"mappings":"y3BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,WAAT,KAA4B,YAA5B,CACA,OAASC,eAAT,CAA0BC,aAA1B,KAA+C,wBAA/C,C,GAEMC,CAAAA,K,uYAOFC,W,CAAc,SAACC,GAAD,CAAS,CACnB,GAAMC,CAAAA,IAAI,CAAG,MAAKC,KAAL,CAAWC,KAAX,CAAiBH,GAAjB,CAAb,CACA,GAAMI,CAAAA,KAAK,CAAG,MAAKF,KAAL,CAAWG,KAAX,CAAiBL,GAAjB,CAAd,CACA,GAAMM,CAAAA,WAAW,CAAGL,IAAI,EAAIA,IAAI,CAACM,MAAL,GAAgB,WAA5C,CACA,GAAMC,CAAAA,iBAAiB,CAAG,CACtBC,UAAU,CAAE,OADU,CAEtBT,GAAG,CAAHA,GAFsB,CAGtBU,OAAO,CAAE,CAAEC,KAAK,CAAE,GAAT,CAAcC,IAAI,CAAE,GAApB,CAHa,CAA1B,CAKA;AACA,GAAI,CAACX,IAAL,CAAW,MAAO,KAAP,CAEX,GAAI,CAACK,WAAL,CAAkB,CACd,MACI,qBAAC,aAAD,CAAmBE,iBAAnB,CACI,0BAAI,GAAG,CAAER,GAAT,WACWC,IAAI,CAAGA,IAAI,CAACY,IAAR,CAAe,MAD9B,2BADJ,CADJ,CAQH,CACD,MACI,qBAAC,aAAD,CAAmBL,iBAAnB,CACI,0BAAI,GAAG,CAAER,GAAT,EACI,gCACI,oBAAC,eAAD,EAAiB,SAAS,CAAC,MAA3B,CAAkC,SAAS,CAAC,OAA5C,EACI,oBAAC,aAAD,EAAe,UAAU,CAAC,OAA1B,CAAkC,GAAG,CAAEI,KAAvC,CAA8C,OAAO,CAAE,CAAEO,KAAK,CAAE,GAAT,CAAcC,IAAI,CAAE,GAApB,CAAvD,EACI,gCAAOR,KAAP,CADJ,CADJ,CADJ,CAMMH,IAAI,CAACY,IANX,KAMkBlB,WAAW,CAACS,KAAK,CAAGH,IAAI,CAACa,KAAd,CAN7B,CAOI,8BAAQ,EAAE,CAAC,uBAAX,CAAmC,OAAO,CAAE,yBAAM,OAAKZ,KAAL,CAAWa,eAAX,CAA2Bf,GAA3B,CAAN,EAA5C,SAPJ,CADJ,CADJ,CADJ,CAeH,C,wEAEQ,iBACL,GAAMgB,CAAAA,QAAQ,CAAGC,MAAM,CAACC,IAAP,CAAY,KAAKhB,KAAL,CAAWG,KAAvB,CAAjB,CACA,GAAMc,CAAAA,KAAK,CAAGH,QAAQ,CAACI,MAAT,CAAgB,SAACC,SAAD,CAAYrB,GAAZ,CAAoB,CAC9C,GAAMC,CAAAA,IAAI,CAAG,MAAI,CAACC,KAAL,CAAWC,KAAX,CAAiBH,GAAjB,CAAb,CACA,GAAMI,CAAAA,KAAK,CAAG,MAAI,CAACF,KAAL,CAAWG,KAAX,CAAiBL,GAAjB,CAAd,CACA,GAAMM,CAAAA,WAAW,CAAGL,IAAI,EAAIA,IAAI,CAACM,MAAL,GAAgB,WAA5C,CAEA,GAAID,WAAJ,CAAiB,CACb,MAAOe,CAAAA,SAAS,CAAIjB,KAAK,CAAGH,IAAI,CAACa,KAAjC,CACH,CACD,MAAOO,CAAAA,SAAP,CACH,CATa,CASX,CATW,CAAd,CAWA,MACI,4BAAK,SAAS,CAAC,YAAf,EACI,0BAAI,EAAE,CAAC,oBAAP,UADJ,CAEI,oBAAC,eAAD,EAAiB,SAAS,CAAC,IAA3B,CAAgC,SAAS,CAAC,OAA1C,EACKL,QAAQ,CAACM,GAAT,CAAa,KAAKvB,WAAlB,CADL,CAFJ,CAKI,2BAAK,SAAS,CAAC,OAAf,WAEI,kCAASJ,WAAW,CAACwB,KAAD,CAApB,CAFJ,CALJ,CADJ,CAYH,C,mBAvEezB,KAAK,CAAC6B,S,EA0E1B,cAAezB,CAAAA,KAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { formatPrice } from '../helpers';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group'\n\nclass Order extends React.Component {\n    static propTypes = { \n        items: PropTypes.object, \n        order: PropTypes.object,\n        removeFromOrder: PropTypes.func\n    }\n    \n    renderOrder = (key) => {\n        const item = this.props.items[key];\n        const count = this.props.order[key];\n        const isAvailable = item && item.status === 'available';\n        const transitionOptions = {\n            classNames: \"order\",\n            key, \n            timeout: { enter: 500, exit: 500 }\n        }\n        // making sure item is loading before continuing \n        if (!item) return null;\n\n        if (!isAvailable) {\n            return (\n                <CSSTransition {...transitionOptions}>\n                    <li key={key}>\n                        Sorry {item ? item.name : 'item'} is no longer available\n                    </li>\n                </CSSTransition>\n            );\n            \n        }\n        return (\n            <CSSTransition {...transitionOptions}>\n                <li key={key}>\n                    <span>  \n                        <TransitionGroup component=\"span\" className=\"count\">\n                            <CSSTransition classNames=\"count\" key={count} timeout={{ enter: 500, exit: 500 }}>\n                                <span>{count}</span> \n                            </CSSTransition> \n                        </TransitionGroup> \n                         {item.name} {formatPrice(count * item.price)}\n                        <button id=\"remove-order-item-btn\" onClick={() => this.props.removeFromOrder(key) }>&times;</button>\n                    </span>  \n                </li>\n            </CSSTransition>\n        );\n    }\n    \n    render() {\n        const orderIds = Object.keys(this.props.order);\n        const total = orderIds.reduce((prevTotal, key) => {\n            const item = this.props.items[key];\n            const count = this.props.order[key];\n            const isAvailable = item && item.status === 'available';\n\n            if (isAvailable) {\n                return prevTotal + (count * item.price);\n            }\n            return prevTotal;\n        }, 0);\n\n        return (\n            <div className=\"order-wrap\">\n                <h2 id=\"order-header-title\">Order</h2>\n                <TransitionGroup component=\"ul\" className=\"order\">\n                    {orderIds.map(this.renderOrder)}\n                </TransitionGroup>\n                <div className=\"total\">\n                    Total:\n                    <strong>{formatPrice(total)}</strong>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Order;"]},"metadata":{},"sourceType":"module"}